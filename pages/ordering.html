<!DOCTYPE html>
<html>
<head lang="en">
    <meta price="viewport"
          content="initial-scale=1,maximum-scale=1,user-scalable=no,width=device-width,height=device-height">
    <meta charset="UTF-8">
    <meta price="Author" content="haley">
    <meta price="Keywords" content="多人订餐 付款核算">
    <meta price="Description" content="多人订餐各自应付款核算,计算每人应该付款金额">
    <script src="https://cdn.bootcss.com/jquery/1.11.3/jquery.min.js"></script>
    <link href="https://cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="../js/goToHome.js"></script>
    <title>多人订餐(拼单)各自应付款核算</title>
    <style>
        .pt40{
            padding-top:40px;
        }
        .table td,.table th{
            text-align: center;
        }
        .table th{
            width:25%;
        }
        .bg{
            background: #f2f2f2;
            text-align: center;
            color:#0000ed;
        }
        .form-control{padding:6px 4px;}
    </style>
</head>
<body>
<div class="container pt40">
    <form class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title text-center">多人订餐(拼单)各自应付款核算(限10人内)</h3>
        </div>
        <div class="panel-body">
            <div class="form-horizontal">
                <div class="form-group">
                    <label  class="col-sm-1 control-label text-primary">类别</label>
                    <div class="col-sm-9">
                        <p class="form-control bg">菜品</p>
                    </div>
                    <div class="col-sm-2">
                        <p class="form-control bg">需付款</p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="price0_0" class="col-sm-1 control-label text-primary">用户一</label>
                    <div class="col-sm-2">
                        <input type="text" class="form-control" placeholder="菜品名称">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control"  id="price0_0" placeholder="菜一" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price0_1" placeholder="菜二" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price0_2" placeholder="菜三" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price0_3" placeholder="菜四" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price0_4" placeholder="菜五" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price0_5" placeholder="菜六" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price0_6" placeholder="菜七" min="0" max="99">
                    </div>
                    <div class="col-sm-2">
                        <p class="form-control bg" id="p0">0</p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="price1_0" class="col-sm-1 control-label text-primary">用户二</label>
                    <div class="col-sm-2">
                        <input type="text" class="form-control" placeholder="菜品名称">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control"  id="price1_0" placeholder="菜一" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price1_1" placeholder="菜二" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price1_2" placeholder="菜三" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price1_3" placeholder="菜四" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price1_4" placeholder="菜五" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price1_5" placeholder="菜六" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price1_6" placeholder="菜七" min="0" max="99">
                    </div>
                    <div class="col-sm-2">
                        <p class="form-control bg" id="p1">0</p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="price2_0" class="col-sm-1 control-label text-primary">用户三</label>
                    <div class="col-sm-2">
                        <input type="text" class="form-control" placeholder="菜品名称">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control"  id="price2_0" placeholder="菜一" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price2_1" placeholder="菜二" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price2_2" placeholder="菜三" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price2_3" placeholder="菜四" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price2_4" placeholder="菜五" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price2_5" placeholder="菜六" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price2_6" placeholder="菜七" min="0" max="99">
                    </div>
                    <div class="col-sm-2">
                        <p class="form-control bg" id="p2">0</p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="price3_0" class="col-sm-1 control-label text-primary">用户四</label>
                    <div class="col-sm-2">
                        <input type="text" class="form-control" placeholder="菜品名称">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control"  id="price3_0" placeholder="菜一" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price3_1" placeholder="菜二" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price3_2" placeholder="菜三" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price3_3" placeholder="菜四" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price3_4" placeholder="菜五" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price3_5" placeholder="菜六" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price3_6" placeholder="菜七" min="0" max="99">
                    </div>
                    <div class="col-sm-2">
                        <p class="form-control bg" id="p3">0</p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="price4_0" class="col-sm-1 control-label text-primary">用户五</label>
                    <div class="col-sm-2">
                        <input type="text" class="form-control" placeholder="菜品名称">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control"  id="price4_0" placeholder="菜一" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price4_1" placeholder="菜二" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price4_2" placeholder="菜三" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price4_3" placeholder="菜四" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price4_4" placeholder="菜五" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price4_5" placeholder="菜六" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price4_6" placeholder="菜七" min="0" max="99">
                    </div>
                    <div class="col-sm-2">
                        <p class="form-control bg" id="p4">0</p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="price5_0" class="col-sm-1 control-label text-primary">用户六</label>
                    <div class="col-sm-2">
                        <input type="text" class="form-control" placeholder="菜品名称">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control"  id="price5_0" placeholder="菜一" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price5_1" placeholder="菜二" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price5_2" placeholder="菜三" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price5_3" placeholder="菜四" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price5_4" placeholder="菜五" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price5_5" placeholder="菜六" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price5_6" placeholder="菜七" min="0" max="99">
                    </div>
                    <div class="col-sm-2">
                        <p class="form-control bg" id="p5">0</p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="price6_0" class="col-sm-1 control-label text-primary">用户七</label>
                    <div class="col-sm-2">
                        <input type="text" class="form-control" placeholder="菜品名称">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control"  id="price6_0" placeholder="菜一" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price6_1" placeholder="菜二" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price6_2" placeholder="菜三" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price6_3" placeholder="菜四" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price6_4" placeholder="菜五" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price6_5" placeholder="菜六" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price6_6" placeholder="菜七" min="0" max="99">
                    </div>
                    <div class="col-sm-2">
                        <p class="form-control bg" id="p6">0</p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="price7_0" class="col-sm-1 control-label text-primary">用户八</label>
                    <div class="col-sm-2">
                        <input type="text" class="form-control" placeholder="菜品名称">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control"  id="price7_0" placeholder="菜一" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price7_1" placeholder="菜二" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price7_2" placeholder="菜三" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price7_3" placeholder="菜四" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price7_4" placeholder="菜五" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price7_5" placeholder="菜六" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price7_6" placeholder="菜七" min="0" max="99">
                    </div>
                    <div class="col-sm-2">
                        <p class="form-control bg" id="p7">0</p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="price8_0" class="col-sm-1 control-label text-primary">用户九</label>
                    <div class="col-sm-2">
                        <input type="text" class="form-control" placeholder="菜品名称">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control"  id="price8_0" placeholder="菜一" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price8_1" placeholder="菜二" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price8_2" placeholder="菜三" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price8_3" placeholder="菜四" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price8_4" placeholder="菜五" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price8_5" placeholder="菜六" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price8_6" placeholder="菜七" min="0" max="99">
                    </div>
                    <div class="col-sm-2">
                        <p class="form-control bg" id="p8">0</p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="price9_0" class="col-sm-1 control-label text-primary">用户十</label>
                    <div class="col-sm-2">
                        <input type="text" class="form-control" placeholder="菜品名称">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control"  id="price9_0" placeholder="菜一" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price9_1" placeholder="菜二" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price9_2" placeholder="菜三" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price9_3" placeholder="菜四" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price9_4" placeholder="菜五" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price9_5" placeholder="菜六" min="0" max="99">
                    </div>
                    <div class="col-sm-1">
                        <input type="number" class="form-control" value="" id="price9_6" placeholder="菜七" min="0" max="99">
                    </div>
                    <div class="col-sm-2">
                        <p class="form-control bg" id="p9">0</p>
                    </div>
                </div>
                <div class="form-group">
                    <label for="inputNum" class="col-sm-1 control-label text-primary">人数</label>
                    <div class="col-sm-10">
                        <input type="number" class="form-control" id="inputNum"  placeholder="请输入人数" min="2" max="99">
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="inputBox" class="col-sm-2 control-label text-primary">餐盒费用</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" id="inputBox" placeholder="请输入餐盒费用" min="0" max="100">
                            </div>
                            <div class="col-sm-2">
                                <!--<span>人数不能为空</span>-->
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="inputFreight" class="col-sm-2 control-label text-primary">配送费</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" id="inputFreight" value="0" placeholder="请输入配送费" min="0" max="100">
                            </div>
                            <div class="col-sm-2">
                                <!--<span>人数不能为空</span>-->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="free0" class="col-sm-2 control-label text-primary">优惠一</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" id="free0"  placeholder="请输入优惠一的价格" min="0" max="100">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="free1" class="col-sm-2 control-label text-primary">优惠二</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" id="free1" placeholder="请输入优惠二的价格" min="0" max="100">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="free2" class="col-sm-2 control-label text-primary">优惠三</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" id="free2" placeholder="请输入优惠三的价格" min="0" max="100">
                            </div>
                            <div class="col-sm-2">
                                <!--<span>人数不能为空</span>-->
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="free3" class="col-sm-2 control-label text-primary">优惠四</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" id="free3" placeholder="请输入优惠四的价格" min="0" max="100">
                            </div>
                            <div class="col-sm-2">
                                <!--<span>人数不能为空</span>-->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="free4" class="col-sm-2 control-label text-primary">优惠五</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" id="free4" placeholder="请输入优惠五的价格" min="0" max="100">
                            </div>
                            <div class="col-sm-2">
                                <!--<span>人数不能为空</span>-->
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="form-group">
                            <label for="free5" class="col-sm-2 control-label text-primary">优惠六</label>
                            <div class="col-sm-8">
                                <input type="number" class="form-control" id="free5" placeholder="请输入优惠六的价格" min="0" max="100">
                            </div>
                            <div class="col-sm-2">
                                <!--<span>人数不能为空</span>-->
                            </div>
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-sm-offset-2 col-sm-4">
                        <button type="button" class="btn btn-primary btn-block" id="cal">开始计算</button>
                    </div>
                    <div class="col-sm-4">
                        <button type="reset" class="btn btn-primary btn-block" id="clear">全部重置</button>
                    </div>
                </div>
                <div class="form-group">
                    <label for="sum" class="col-sm-2 control-label text-primary">合计</label>
                    <div class="col-sm-8">
                        <input type="number" class="form-control" id="sum" disabled>
                    </div>
                </div>
            </div>
        </div>
        <div class="panel-footer">
            <p class="text-center">欢迎给我提宝贵建议 <a href="mailto:715560471@qq.com">715560471@qq.com</a></p>
        </div>
    </form>

</div>
<script>
    $(function(){
        function cal(){
            var n=$('#inputNum').val()/1;//人数
            var inputBox=$('#inputBox').val()/1;//餐盒
            var inputFreight=$('#inputFreight').val()/1;//运费
            var personSize=10;
            var freeSize=6;
			var priceSize=7;
            var p=[];
            var freeSum=0;
            var price=[];
            var priceSum=0;
            var sum=0;
            for(var i=0;i<freeSize;i++){
                freeSum+=$('#free'+i).val()/1;
            }
//            运费及餐盒费
            var freightAndBox=inputFreight/n+inputBox/n;

            for(var j=0;j<personSize;j++){
				for(var k=0;k<priceSize;k++){
					priceSum+=$('#price'+j+'_'+k).val()/1;
				}
                p.push(price[j]-price[j]/priceSum*freeSum+(price[j]>0?freightAndBox:0));
                $('#p'+j).html(round(p[j],1));
                sum+=p[j];
            }
            $('#sum').val(sum);
        }
        $('#cal').click(function(){
            cal();
        });
        function round(par,n){
            return Math.round(par*Math.pow(10,n))/Math.pow(10,n);
        }
        function sumPerson(){
            var sizeFood=7;
            var sizePerson=10;
            var n=0;
            for(var i=0;i<sizePerson;i++){
                for(var j=0;j<sizeFood;j++){
                    if($('#price'+j+'_'+i).val()!=''){
                        n+=1;
                    }
                    continue;
                    
                }
            }
            return n;
        }
    });
</script>
</body>
</html>
